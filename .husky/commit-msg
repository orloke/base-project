#!/bin/sh

COMMIT_MSG_FILE=$1
COMMIT_MSG=$(cat "$COMMIT_MSG_FILE")

VALID_TYPES="feat|fix|docs|style|refactor|perf|test|ci|chore|revert"
PATTERN="^($VALID_TYPES): .+"

if ! echo "$COMMIT_MSG" | grep -Eq "$PATTERN"; then
  echo "âŒ Commit invÃ¡lido!"
  echo "ğŸ’¡ Use o formato: <tipo>: descriÃ§Ã£o"
  echo "ğŸ’¡ Exemplo vÃ¡lido: feat: criar botÃ£o de login"
  echo ""
  echo "ğŸ” Tipos permitidos: $VALID_TYPES"
  exit 1
fi

echo "âœ… Commit vÃ¡lido!"
